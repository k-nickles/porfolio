<!DOCTYPE html>
<html>
	<head>
		<title>Kara Dodd - Portfolio</title>
		 <meta charset="utf-8" />
		 <style>
			@import "https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic&subset=latin,cyrillic";
			body{
				background-color: #000000;
				padding: 0;
				margin: 0;
				font-family: 'RobotoDraft', 'Roboto', 'Helvetica Neue, Helvetica, Arial', sans-serif;
				color: white;
			}
			
			a{
				text-decoration: none;
			}
			
			h1{
				color: white;
				font-weight: lighter;
				letter-spacing: 15px;
			}
			
			h2{
			
				font-weight: lighter;
				letter-spacing: 10px;
				text-shadow: 2px 2px #800000;
				background-color: #990033;
				padding: 15px;
			}
			
			#wrapper{
				margin-top: 40px; 
				width: 100%;
			}
			
			.project-item{
				position: relative !important;
				margin-left: 55px;
				margin-right: 55px;
				margin-bottom: 20px;
			}
			
			#wrapper.project-item{
				position: relative; 
				float: left; 
				margin-bottom: 15px; 
			}
			
			img{
				position: relative;
				width: 55%; 
				height: 75%;
			}
			
			.sticky {
				font-weight: lighter; 
				text-align: center; 
				background-color: #111111;
				position: relative; 
				float: right;
				padding: 12px 0 ;
				width: 43%;			
			}
			
			.sticky.stick{
				position: fixed !important; 
				top: 0; 
				right: 0;
				
				z-index: 999;
			}
			
			.sticky.stick.stuck{
				position: absolute !important; 
				top: auto; 
				bottom: 0; 
				z-index: 999;
			}
			
			p{
				font-weight: lighter;
				text-alight: center;
				padding: 20px; 
				width: auto; 
			}
			
			#nav-link{
				z-index: 9;
				background-color: #000000;
				padding: 15px;
			}
			
			a.item-link{
				position: relative;
				display: block;
				margin: 0 10px;
				float: left;
				left: 24%;
				opacity: 1;
				color: white;
				padding: 10px;
				text-transform: uppercase;
				text-align: center;
				text-decoration: none;
				letter-spacing: 0.5em;
				box-shadow: 0px 0px 0px 3px white;
				transition: all 0.3s ease-out; 
			}
			
			a:hover{
				background-color: white;
				color: black;
			}
		 </style>
		 <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
		 <script src="https://rawgit.com/leafo/sticky-kit/v1.1.2/jquery.sticky-kit.js"></script>
	</head>
	<body>
	
		<!-- The following items should be on all webpages - perhaps move them to a layout.css?-->
		<div id="name-bar"><center><a href="index.html"><h1>Kara Dodd </h1></a></center>
		</div>
		<div id="nav-link">
				<a class="item-link" href="projects.html">projects</a>
				<a class="item-link" href="#">2d art</a>
				<a class="item-link" href="#">3d art</a>
				<a class="item-link" href="#">contact</a>
		</div>
		<!-- End navigation bar-->
		
		<div id="wrapper">
			<div class="project-item">
				<h2>Title of Project</h2>
					<img src="img/succulent.png">
					<div class="sticky"><p>Here is a description for a 
					picture and or project that I have made. This text box scroll
					with the image until the end of the image. Now what if the text becomes a 
					little bit longer then what do we do?</p>
					</div>
					<img src="img/dragon.png">
			</div>
			<div class="project-item">
				<h2>Other Project Title</h2>
					<img src="img/dragon.png">
					<div class="sticky"><p>Here is a description for a 
					picture and or project that I have made. This text box scroll
					with the image until the end of the image. Now what if the text becomes a 
					little bit longer then what do we do?</p>
			</div>
		</div>
		
	<!-- Here we are adding sticky descriptions to the images
			The descriptions are sticky until the end of the image and then un-stick-->	
	<!-- TODO :  This sticky div only works for the first div in the chain :( -->
	<script>
		//$(".sticky").stick_in_parent();
		
		function sticky_note() {
			var $windowTop = $(window).scrollTop();
			var $boundBox = $('.project-item');
			var $sticky = $('.sticky');
				
			var above_bound = $boundBox.offset().top, 
					height_bound = $boundBox.height(), 
					height_sticky = $sticky.height(); 
					
			if($windowTop > above_bound){
				$sticky.addClass('stick'); 
			}else{
				$sticky.removeClass('stick'); 
			}
			
			if($windowTop > above_bound + height_bound - height_sticky){
				$sticky.addClass('stuck'); 	
			}else{
				$sticky.removeClass('stuck'); 
			}
			
			if($windowTop > above_bound + height_bound){
				$sticky.removeClass('stick'); 
			} 
		}

		$(function () {
			$(window).scroll(sticky_note);
			sticky_note();
		});
		
	</script>
	</body>
</html>
